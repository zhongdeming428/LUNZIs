this[""]=this[""]||{},this[""]["/dist/Carousel"]=this[""]["/dist/Carousel"]||{},this[""]["/dist/Carousel"].min=this[""]["/dist/Carousel"].min||{},function(){"use strict";!function(t,e){void 0===e&&(e={});var i=e.insertAt;if(t&&"undefined"!=typeof document){var s=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===i&&s.firstChild?s.insertBefore(o,s.firstChild):s.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".carousel {\n  position: relative;\n}\n.carousel-left,\n.carousel-right {\n  width: 0;\n  height: 0;\n  position: absolute;\n  border: 40px solid transparent;\n  top: 50%;\n  opacity: 0.5;\n  cursor: pointer;\n  transform: translateY(-50%);\n  transition: margin 1s;\n  z-index: 99;\n}\n.carousel-right {\n  right: 0;\n}\n.carousel-left {\n  border-right: 20px solid aliceblue;\n  margin-left: -70px;\n}\n.carousel-right {\n  margin-right: -70px;\n  border-left: 20px solid aliceblue;\n}"),function(t){class e{constructor(e,i){this.el=void 0,this.selector=e,this.div=void 0,this.timer=void 0,this.timer1=void 0,this.mouseX=void 0,this.config=i,this.imgs=[],this.cur=0,this.style={overflow:"hidden"},this.strategies={style(){for(let t in this.style)this.el.style[t]=this.style[t]},imgs(){let e=t.document.createDocumentFragment();this.div=t.document.createElement("div"),this.config.imgs.unshift(this.config.imgs[this.config.imgs.length-1]),this.config.imgs.push(this.config.imgs[1]),this.config.imgs.forEach((i,s)=>{let o=t.document.createElement("img");s<3&&(o.src=i),e.appendChild(o),o.style.width=this.el.offsetWidth+"px",o.style.height="100%",o.style.float="left",o.draggable=!1,this.imgs.push(o)}),this.div.appendChild(e),this.el.appendChild(this.div),this.div.style.height="100%",this.div.style.width=this.el.offsetWidth*this.config.imgs.length+"px"},draggable(){this.config.draggable&&this.attachSwipeEvent()},showBtn(){if(this.config.showBtn)this.attachBtnEvent();else{let e=t.document.querySelectorAll(".carousel-left, .carousel-right");for(let t=0;t<e.length;t++)e[t].style.display="none"}},urls(){let e=this;if(this.config.urls instanceof Array){if(this.config.urls.length!==this.imgs.length-2)throw new TypeError("urls 配置项的长度必须与图片数量相匹配！");this.imgs.forEach((i,s)=>{0!==s&&s!==this.imgs.length-1&&this.imgs[s].addEventListener("mouseup",function(i){i.clientX===e.mouseX&&t.open(e.config.urls[s])})})}},timeDuration(){this.config.timeDuration=void 0===this.config.timeDuration?2e3:this.config.timeDuration,this.div.style.transition=`all ${+this.config.timeDuration/1e3}s`},autoSwipe(){this.config.autoSwipe&&this.setAuto()},hideBtn(){this.config.hideBtn||(t.document.querySelector(".carousel-left").style.marginLeft="-15px",t.document.querySelector(".carousel-right").style.marginRight="-15px")}},this.carousel(e,i)}carousel(e,i){var s=t.document.querySelectorAll(e);if(1!==s.length)throw new TypeError("Invalid selector!");for(this.el=s[0];this.el.firstChild;)this.el.removeChild(this.el.firstChild);this.el.className=this.el.className+" carousel",this.el.innerHTML=['<div class="carousel-left"></div>','<div class="carousel-right"></div>'].join("");for(let t in this.style)this.el.style[t]=this.style[t];for(let t in this.strategies)this.strategies[t].call(this);this.lazyLoad(i.imgs)}setOptions(e){this.config=e,t.clearInterval(this.timer),t.clearTimeout(this.timer1),this.el=void 0,this.div=void 0,this.timer=void 0,this.timer1=void 0,this.mouseX=void 0,this.config=e,this.imgs=[],this.cur=0,this.carousel(this.selector,e)}attachBtnEvent(){let e=this;t.document.querySelector(".carousel-left").addEventListener("click",function(){t.clearInterval(e.timer),e.goPrev(),e.config.autoSwipe&&(e.timer1=t.setTimeout(e.setAuto,e.config.timeDuration))}),t.document.querySelector(".carousel-right").addEventListener("click",function(){t.clearInterval(e.timer),e.goNext(),e.config.autoSwipe&&(e.timer1=t.setTimeout(e.setAuto,e.config.timeDuration))})}attachSwipeEvent(){this.div.addEventListener("mousedown",this.swipeStart.bind(this)),this.div.addEventListener("mouseup",this.swipeEnd.bind(this)),this.config.hideBtn&&(this.div.addEventListener("mouseover",function(){t.document.querySelector(".carousel-left").style.marginLeft="-15px",t.document.querySelector(".carousel-right").style.marginRight="-15px"}),this.div.addEventListener("mouseleave",function(){t.setTimeout(function(){t.document.querySelector(".carousel-left").style.marginLeft="-70px",t.document.querySelector(".carousel-right").style.marginRight="-70px"},2e3)}))}goPrev(){let e=this;this.cur>1?(this.cur--,this.div.style.transform=`translateX(-${this.cur*this.el.offsetWidth}px)`):(this.cur=this.imgs.length-2,this.div.style.transition="all 0s",this.div.style.transform=`translateX(-${this.cur*this.el.offsetWidth}px)`,t.setTimeout(function(){e.div.style.transition=`all ${+e.config.timeDuration/1e3}s`,e.config.autoSwipe&&e.setAuto()},100))}goNext(){let e=this;this.cur<this.imgs.length-2?(this.cur++,this.div.style.transform=`translateX(-${this.cur*this.el.offsetWidth}px)`):(this.cur=0,this.div.style.transition="all 0s",this.div.style.transform="translateX(0px)",t.setTimeout(function(){e.div.style.transition="all "+e.config.timeDuration/1e3+"s",e.config.autoSwipe&&(e.setAuto(),e.goNext())},100))}swipeStart(e){this.mouseX=e.clientX,t.clearInterval(this.timer)}swipeEnd(t){t.clientX-this.mouseX<0?this.goNext():t.clientX-this.mouseX>0&&this.goPrev(),this.config.autoSwipe&&this.setAuto()}lazyLoad(t){if(this.imgs.length>3)for(let e=3;e<this.imgs.length;e++)this.imgs[e].src=t[e]}setAuto(){let e=this;t.clearTimeout(this.timer1),t.clearInterval(this.timer),this.timer=t.setInterval(function(){e.goNext()},e.config.timeDuration)}}"undefined"==typeof exports||exports.nodeType?t.Carousel=e:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=e),exports.Carousel=e)}(window)}();
